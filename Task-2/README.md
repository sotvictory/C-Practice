# Task 2

Реализована библиотека функций работы с матрицами чисел типа `double`:
- сложение матриц `sum_matrix`,
- умножение матрицы на число `scaling_matrix`,
- умножение матриц `product_matrix`,
- приведение квадратной матрицы к треугольному виду `triang_matrix`,
- вычисление определителя квадратной матрицы `det_matrix`,
- ввод матрицы `read_matrix`,
- вывод матрицы `print_matrix`,
- освобождение памяти, которую занимает матрица `free_matrix`,
- перестановка строк матрицы `swap_rows`,
- обработка ошибки выделения памяти `mem_err`.

Модуль состоит из интерфейсной части `matrix.h` и реализационной части `matrix.c`. Функции модуля тестируются в `main.c`.

Инициализация матриц производится с клавиатуры. <br>
Размер первой матрицы: `row_cnt_1` x `col_cnt_1`. <br>
Размер второй матрицы: `row_cnt_2` x `col_cnt_2`. <br>
Размерность матриц можно менять при каждом обращении к программе (`enum` в `main.c`) так же, как и множитель `multiplier` (`double const` в `main.c`) для умножения матрицы на число.

Функции модуля не изменяют исходные матрицы.

Программа проверяет корректность исходных данных:
- сложение матриц происходит только тогда, когда размеры матриц совпадают: `row_cnt_1` = `row_cnt_2`, `col_cnt_1` = `col_cnt_2`,
- умножение матриц происходит только тогда, когда количество столбцов 1-ой матрицы `col_cnt_1` равно количеству строк 2-ой матрицы `row_cnt_2`, при этом получается матрица размера `row_cnt_1` x `col_cnt_2`,
- определитель считается только для квадратной матрицы: `row_cnt` = `col_cnt`

В случае ошибки в `stderr` выводится соответствующее сообщение, а программа завершается.

## Функции модуля:

`matrix **read_matrix(int row_cnt, int col_cnt)`
Описание | Параметр #1 | Параметр #2 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------:
Считывает матрицу | Количество строк матрицы | Количество столбцов матрицы | Указатель на указатель на `double` (далее просто матрица)

`void free_matrix(matrix **mas, int row_cnt)`
Описание | Параметр #1 | Параметр #2 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------:
Освобождает память, которую занимает матрица | Матрица | Количество строк матрицы | —

`void print_matrix(matrix **mas, int row_cnt, int col_cnt)`
Описание | Параметр #1 | Параметр #2 | Параметр #3 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------: | :-----------:
Печатает матрицу | Матрица | Количество строк матрицы | Количество столбцов матрицы | —

`matrix **sum_matrix(matrix **mas_1, int row_cnt_1, int col_cnt_1, matrix **mas_2, int row_cnt_2, int col_cnt_2)`
Описание | Параметр #1 | Параметр #2 | Параметр #3 | Параметр #4 | Параметр #5 | Параметр #6 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------: | :-----------: |:-----------: | :-----------: | :-----------:
Суммирует 2 матрицы | 1-ая матрица | Количество строк 1-ой матрицы | Количество столбцов 1-ой матрицы | 2-ая матрица | Количество строк 2-ой матрицы | Количество столбцов 2-ой матрицы | Матрица, полученная поэлементным сложением

`matrix **scaling_matrix(double multiplier, matrix **mas, int row_cnt, int col_cnt)`
Описание | Параметр #1 | Параметр #2 | Параметр #3 | Параметр #4 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------: | :-----------: | :-----------:
Умножает матрицу на вещественное число `multiplier` | Множитель | Матрица | Количество строк матрицы | Количество столбцов матрицы | Матрица, полученная умножением каждого элемента на `multiplier`

`matrix **product_matrix(matrix **mas_1, int row_cnt_1, int col_cnt_1, matrix **mas_2, int row_cnt_2, int col_cnt_2)`
Описание | Параметр #1 | Параметр #2 | Параметр #3 | Параметр #4 | Параметр #5 | Параметр #6 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------: | :-----------: |:-----------: | :-----------: | :-----------:
Считает произведение 2-х матриц | 1-ая матрица | Количество строк 1-ой матрицы | Количество столбцов 1-ой матрицы | 2-ая матрица | Количество строк 2-ой матрицы | Количество столбцов 2-ой матрицы | Матрица, элементы которой вычисляются по формуле $\sum_{k=1}^{n} A_{i,k} \cdot B_{k,j}$

`matrix **triang_matrix(matrix **mas, int col_cnt)`
Описание | Параметр #1 | Параметр #2 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------:
Осуществляет приведение матрицы к ступенчатому виду | Матрица | Количество столбцов матрицы | Матрица в треугольном виде, полученная путем элементарных преобразований

`double det_matrix(matrix **mas, int row_cnt, int col_cnt)`
Описание | Параметр #1 | Параметр #2 | Параметр #3 | Возвращаемое значение
:-----------: | :-----------: | :-----------: | :-----------: | :-----------:
Находит определитель матрицы | Матрица | Количество строк матрицы | Количество столбцов матрицы | Определитель, полученный умножением диагональных элементов матрицы, приведенной к ступенчатому виду с помощью `triang_matrix()`

## Алгоритм тестирования:
1. Задать размеры матриц в константах `row_cnt_1`, `row_cnt_2`, `col_cnt_1`, `col_cnt_2` в `main.c`, а также множитель `multiplier`.
2. Выполнить `gcc main.c matrix.c matrix.h -o matrix`.
3. Выполнить `./matrix`. Ввести элементы матриц через пробел, сами матрицы разделяются `\n`.

## Пример работы программы:
```shell
Sample input: 
1 2 6 0
1 3 3 2

Sample output:
Matrix 1:
  1.000   2.000 
  6.000   0.000 
Matrix 2:
  1.000   3.000 
  3.000   2.000 
Sum of matrix 1 and matrix 2:
  2.000   5.000 
  9.000   2.000 
Product of multiplier 2.000 and matrix 1:
  2.000   4.000 
 12.000   0.000 
Product of matrix 1 and matrix 2:
  7.000   7.000 
  6.000  18.000 
```